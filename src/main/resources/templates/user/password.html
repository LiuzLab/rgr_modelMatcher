<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org">

<head th:replace="layouts/common::head">
    <title>...</title>
</head>

<body>
<div th:replace="fragments/header">...</div>
<div class="container py-4">


    <div th:replace="fragments/title :: title(title='My Account', subtitle='Change Password')" th:remove="tag">...</div>

    <div class="main-content my-3">

        <div class="row justify-content-center success-row" th:if="${message != null and message != ''}">
            <div class="col-10">
                <div class="alert alert-success alert-dismissible fade show" role="alert"><span th:text="${message}" th:remove="tag"></span>
                    <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
            </div>
        </div>

        <form th:action="@{/user/password}" th:object="${passwordChange}" method="POST"
              class="py-3">

            <div class="form-group row">
                <div class="offset-1 col-10">
                    <input type="password" th:field="*{oldPassword}" placeholder="Current Password" class="form-control"/>
                    <label th:if="${#fields.hasErrors('oldPassword')}" th:errors="*{oldPassword}"
                           class="validation-message"></label>
                </div>
            </div>

            <div class="form-group row">
                <div class="offset-1 col-10">
                    <input type="password" th:field="*{newPassword}" placeholder="Password" class="form-control"/>
                    <label th:if="${#fields.hasErrors('newPassword')}" th:errors="*{newPassword}"
                           class="validation-message"></label>
                </div>
            </div>

            <div class="form-group row">
                <div class="offset-1 col-10">
                    <input type="password" th:field="*{passwordConfirm}" placeholder="Confirm Password"
                           class="form-control"/>
                    <label th:if="${#fields.hasErrors('passwordConfirm')}" th:errors="*{passwordConfirm}"
                           class="validation-message"></label>
                </div>
            </div>

            <div class="form-group row">
                <div class="offset-1 col-4">
                    <button class="btn btn-lg btn-primary btn-block" name="Submit" value="Update Password"
                            type="Submit">Update Password
                    </button>
                </div>
                <div class="col-5 d-flex align-items-center h100">
                    <a th:href="@{/forgotPassword}">Forgot Password?</a>
                </div>
            </div>

        </form>

    </div>

</div>
<div th:replace="fragments/footer" th:remove="tag">...</div>
</body>
</html>